<ng-container *ngIf="!issues || issues?.length === 0">
  <span>No room issues currently!</span>
</ng-container>

<ng-container *ngIf="issues?.length > 0">
  <div class="action-container">
    <div class="row">
      <span class="mat-h2 item">Total Issues: {{ issues?.length }}</span>
      <span class="mat-h2 item"
        >Total Active Alerts: {{ getTotalActiveAlertCount() }}</span
      >
      <span class="mat-h2 item">Total Alerts: {{ getTotalAlertCount() }}</span>
    </div>

    <mat-divider></mat-divider>

    <div class="row">
      <mat-form-field class="filter-search">
        <mat-label>Filters</mat-label>
        <mat-chip-list #filterChips>
          <mat-chip
            *ngFor="let filter of filters"
            [selectable]="true"
            [removable]="true"
            (removed)="removeFilter(filter)"
          >
            {{ filter?.key ? filter.key + ":" : "" }} {{ filter.val }}
            <mat-icon matChipRemove>cancel</mat-icon>
          </mat-chip>
          <input
            matInput
            [matChipInputFor]="filterChips"
            [matChipInputSeparatorKeyCodes]="separatorKeyCodes"
            [matChipInputAddOnBlur]="false"
            (matChipInputTokenEnd)="addChip($event)"
          />
        </mat-chip-list>
      </mat-form-field>
    </div>
  </div>

  <table class="mat-elevation-z2" [dataSource]="dataSource" mat-table matSort>
    <!--->
    <ng-container *ngFor="let column of issueCols" [matColumnDef]="column">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>
        <span>{{ column }}</span>
      </th>

      <td mat-cell *matCellDef="let element">
        <span>{{ element[column] }}</span>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="issueCols"></tr>
    <tr mat-row *matRowDef="let row; columns: issueCols"></tr>
      -->

    <ng-container matColumnDef="systemType">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>System Type</th>
      <td mat-cell *matCellDef="let issue">
        <mat-icon>{{ systemType === "dmps" ? "dns" : "video_label" }}</mat-icon>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="issueCols; sticky: true"></tr>
    <tr mat-row *matRowDef="let issue; columns: issueCols"></tr>
  </table>

  <mat-paginator [pageSizeOptions]="[32, 64, 128, 256]"></mat-paginator>
</ng-container>
