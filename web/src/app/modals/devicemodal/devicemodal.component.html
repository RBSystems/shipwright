<section>
    <!-- Device Name -->
    <mat-form-field>
        <mat-label>Device Name</mat-label>
        <input matInput [type] = "'text'" [(ngModel)]="data.name">
    </mat-form-field>

    <!-- Display Name -->
    <mat-form-field>
        <mat-label>Display Name</mat-label>
        <input matInput [type] = "'text'" [(ngModel)]="data.displayName">
    </mat-form-field>

    <!-- Description -->
    <mat-form-field>
        <mat-label>Description</mat-label>
        <input matInput [type] = "'text'" [(ngModel)]="data.description">
    </mat-form-field>
</section>

<section>

    <!-- Address -->
    <mat-form-field>
        <mat-label>Address</mat-label>
        <input matInput [type] = "'text'" [(ngModel)]="data.address">
    </mat-form-field>

    <!-- Tags -->
    <mat-form-field>
        <mat-label>Tags</mat-label>
        <mat-chip-list #deviceTags>
            <mat-chip *ngFor="let tag of data.tags" [selectable]="true" [removable]="true" (removed)="text.RemoveTag(tag, data)">
                {{tag}}
                <mat-icon matChipRemove>cancel</mat-icon>
            </mat-chip>
            <input matInput type="text" [matChipInputFor]="deviceTags" [matChipInputSeparatorKeyCodes]="text.separatorKeyCodes" [matChipInputAddOnBlur]="true" (matChipInputTokenEnd)="text.AddTag($event, data)">
        </mat-chip-list>
    </mat-form-field>

    <!-- Device Type -->
    <mat-form-field>
        <mat-label>Device Type</mat-label>
        <mat-select [(ngModel)]="data.type.id" (selectionChange)="UpdateDeviceType()">
            <mat-option *ngFor="let type of dataService.deviceTypeList" [value]="type.id">{{type.id}}</mat-option>
        </mat-select>
    </mat-form-field>
</section>

<section>

    <!-- Roles -->
    <mat-form-field>
        <mat-label>Roles</mat-label>
        <mat-select multiple [(ngModel)]="data.roles" (selectionChange)="UpdateRoleLists()" (valueChange)="UpdateRoleLists()">
            <mat-option *ngFor="let r of data.roles" [value]="r">{{r.id}}</mat-option>  
            <mat-option *ngFor="let r of UnappliedRoles" [value]="r">{{r.id}}</mat-option>
        </mat-select>
    </mat-form-field>
</section>
<mat-divider>
</mat-divider>
<section>
    <!-- Ports -->
    <ng-container *ngIf="data.ports != null && data.ports.length > 0">
        <h4>Ports</h4>
        <div *ngFor="let port of data.ports">
            <!-- In Ports --> 
            <mat-form-field>
                <mat-label>Port ID</mat-label>
                <input matInput [type] = "'text'" [(ngModel)]="port.id">
            </mat-form-field>
            <mat-form-field>

                <mat-label>Friendly ID</mat-label>
                <input matInput [type] = "'text'" [(ngModel)]="port.friendlyName">
            </mat-form-field>
            <mat-form-field *ngIf="IsAnInPort(port)">

                <mat-label>Input</mat-label>
                <input matInput [type] = "'text'" [(ngModel)]="port.sourceDevice">
            </mat-form-field>
            <!-- Out Ports --> 
            <mat-form-field *ngIf="!IsAnInPort(port)">
                <mat-label>Output</mat-label>
                <input matInput [type] = "'text'" [(ngModel)]="port.destinationDevice">
            </mat-form-field>

        </div>
    </ng-container>
    <!--
        (If len(array) > 0) For in-port on device
        Row{ Port ID, Friendly ID, Connection }
        Connection: List of source devices in the room


        (If len(array) > 0) For out-port on device
        Row{ Port ID, Friendly ID, Connection }
        Connection: List of destination devices in the room

        Add used devices to a list so they don't show up after they are being used

    -->
</section>
